<div align="center">

<br />

<picture>
  <source media="(prefers-color-scheme: dark)" srcset="https://img.shields.io/badge/Agent_Memory-8B5CF6?style=for-the-badge&logoColor=white&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQiLz48Y2lyY2xlIGN4PSI0IiBjeT0iNiIgcj0iMiIgb3BhY2l0eT0iMC42Ii8+PGNpcmNsZSBjeD0iMjAiIGN5PSI2IiByPSIyIiBvcGFjaXR5PSIwLjYiLz48Y2lyY2xlIGN4PSI0IiBjeT0iMTgiIHI9IjIiIG9wYWNpdHk9IjAuNiIvPjxjaXJjbGUgY3g9IjIwIiBjeT0iMTgiIHI9IjIiIG9wYWNpdHk9IjAuNiIvPjxsaW5lIHgxPSIxMiIgeTE9IjEyIiB4Mj0iNCIgeTI9IjYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC40Ii8+PGxpbmUgeDE9IjEyIiB5MT0iMTIiIHgyPSIyMCIgeTI9IjYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC40Ii8+PGxpbmUgeDE9IjEyIiB5MT0iMTIiIHgyPSI0IiB5Mj0iMTgiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC40Ii8+PGxpbmUgeDE9IjEyIiB5MT0iMTIiIHgyPSIyMCIgeTI9IjE4IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEiIG9wYWNpdHk9IjAuNCIvPjwvc3ZnPg==" />
  <img alt="Agent Memory" src="https://img.shields.io/badge/Agent_Memory-8B5CF6?style=for-the-badge&logoColor=white&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQiLz48Y2lyY2xlIGN4PSI0IiBjeT0iNiIgcj0iMiIgb3BhY2l0eT0iMC42Ii8+PGNpcmNsZSBjeD0iMjAiIGN5PSI2IiByPSIyIiBvcGFjaXR5PSIwLjYiLz48Y2lyY2xlIGN4PSI0IiBjeT0iMTgiIHI9IjIiIG9wYWNpdHk9IjAuNiIvPjxjaXJjbGUgY3g9IjIwIiBjeT0iMTgiIHI9IjIiIG9wYWNpdHk9IjAuNiIvPjxsaW5lIHgxPSIxMiIgeTE9IjEyIiB4Mj0iNCIgeTI9IjYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC40Ii8+PGxpbmUgeDE9IjEyIiB5MT0iMTIiIHgyPSIyMCIgeTI9IjYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC40Ii8+PGxpbmUgeDE9IjEyIiB5MT0iMTIiIHgyPSI0IiB5Mj0iMTgiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC40Ii8+PGxpbmUgeDE9IjEyIiB5MT0iMTIiIHgyPSIyMCIgeTI9IjE4IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEiIG9wYWNpdHk9IjAuNCIvPjwvc3ZnPg==" />
</picture>

# Agent Memory

**The shared brain for AI agents**

Store context in Claude. Recall it in ChatGPT. Hand off work to Cursor.<br/>
One memory layer across every AI tool you use.

<br />

[![MCP Apps Hackathon](https://img.shields.io/badge/MCP_Apps_Hackathon-Y_Combinator-F06529?style=flat-square)](https://events.ycombinator.com/manufact-hackathon26)
[![Built with Manufact](https://img.shields.io/badge/Built_with-Manufact-4F46E5?style=flat-square)](https://manufact.com)
[![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)](https://typescriptlang.org)
[![SQLite](https://img.shields.io/badge/SQLite-003B57?style=flat-square&logo=sqlite&logoColor=white)](https://sqlite.org)
[![React 19](https://img.shields.io/badge/React_19-61DAFB?style=flat-square&logo=react&logoColor=black)](https://react.dev)
[![License](https://img.shields.io/badge/License-MIT-22c55e?style=flat-square)](#license)

<br />

[Get Started](#-get-started) &nbsp;&middot;&nbsp; [Features](#-features) &nbsp;&middot;&nbsp; [Architecture](#-architecture) &nbsp;&middot;&nbsp; [API Reference](#-api-reference) &nbsp;&middot;&nbsp; [How It Works](#-how-it-works)

<br />

</div>

---

## Why

Every AI conversation starts from zero. Your agent doesn't remember you chose Supabase, prefer Tailwind, or that auth uses JWT. You re-explain — every single time.

That's **10,000-20,000 wasted tokens per day** just on repeated context. At scale, that's billions of redundant GPU cycles per month.

> [!IMPORTANT]
> Agent Memory eliminates this. Agents remember what they already know, cutting token usage by up to **60%** — less inference, less energy, less cost.

<br />

## Get Started

Connect Agent Memory to any MCP-compatible client with a single URL:

```
https://winter-meadow-1651f.run.mcp-use.com/mcp
```

<details open>
<summary><strong>Claude Desktop / Claude Code</strong></summary>

<br />

```json
{
  "mcpServers": {
    "agent-memory": {
      "url": "https://winter-meadow-1651f.run.mcp-use.com/mcp"
    }
  }
}
```

</details>

<details>
<summary><strong>ChatGPT</strong></summary>

<br />

Connect via the [Manufact MCP Apps marketplace](https://manufact.com).

</details>

<details>
<summary><strong>Cursor / VS Code / Windsurf / Cline / Roo Code / Goose / Codex</strong></summary>

<br />

Paste the URL into your MCP server configuration. Any client that speaks MCP can connect.

</details>

<details>
<summary><strong>Run locally</strong></summary>

<br />

```bash
git clone https://github.com/nihalnihalani/agent-memory.git
cd agent-memory
npm install
npm run dev
```

Then connect at `http://localhost:3010/mcp` or open the [inspector](http://localhost:3010/inspector).

</details>

<br />

## Features

<table>
<tr>
<td width="50%" valign="top">

### Intelligent Memory

- **5 memory types** — `decision` `preference` `task` `snippet` `note`
- **FTS5 search** with BM25 relevance ranking
- **Composite scoring** — relevance, recency, access frequency, type priority
- **Tag-based** organization with multi-tag filtering
- **Conflict detection** across agents

</td>
<td width="50%" valign="top">

### Cross-Agent Collaboration

- **Universal MCP** — works with every MCP-compatible client
- **Agent attribution** — every memory tagged with its creator
- **Color-coded agents** — Claude, ChatGPT, Cursor, and 10+ more
- **Activity feed** — see what each agent did and when
- **Structured handoffs** — pass work between agents seamlessly

</td>
</tr>
<tr>
<td width="50%" valign="top">

### Inline Dashboard

- **Renders inside conversations** — no separate app
- **Search, filter, sort** — full-text, by type, by date
- **Quick-add** — create memories without tool calls
- **Inline editing** — update memories in place
- **Dark & light mode** — adapts to your client

</td>
<td width="50%" valign="top">

### Agent Handoffs

- **Structured work transfer** — summary, context, next steps
- **Context inheritance** — references to relevant memories
- **Status tracking** — `pending` `in_progress` `completed`
- **One-click pickup** — accept handoffs from the dashboard
- **Auto-briefing** — new agent gets full context on pickup

</td>
</tr>
</table>

<br />

## What Makes This Different

| | Agent Memory | Others |
|---|:---:|:---:|
| Inline widget inside conversations | **Yes** | No |
| Cross-agent memory (Claude + ChatGPT + Cursor) | **Yes** | Limited |
| Agent-to-agent handoffs | **Yes** | No |
| Visual agent attribution | **Yes** | No |
| FTS5 + composite scoring | **Yes** | Keyword only |
| Zero ML dependencies | **Yes** | Often heavy |
| Single URL to connect | **Yes** | Complex setup |

<br />

## Architecture

```mermaid
graph TB
    subgraph Clients["MCP Clients"]
        Claude["Claude Code"]
        ChatGPT["ChatGPT"]
        Cursor["Cursor"]
        VSCode["VS Code"]
        Others["Any MCP Client"]
    end

    subgraph Server["Agent Memory Server"]
        direction TB
        Tools["7 Tools<br/><code>remember · recall · forget · list</code><br/><code>handoff · pickup · complete</code>"]
        Resources["5 Resources<br/><code>current-context · agent-activity</code><br/><code>memory://{key} · handoff-queue · changelog</code>"]
        Prompt["1 Prompt<br/><code>session-briefing</code>"]
    end

    subgraph Storage["Persistence Layer"]
        SQLite["SQLite + WAL"]
        FTS5["FTS5 Search Engine"]
    end

    subgraph Widget["Inline Widget"]
        React["React 19 Dashboard"]
    end

    Clients -->|"HTTP Streamable MCP"| Server
    Server --> Storage
    Server --> Widget

    style Clients fill:#1e1b4b,stroke:#4f46e5,color:#e0e7ff
    style Server fill:#1a1a2e,stroke:#8b5cf6,color:#e0e7ff
    style Storage fill:#0f172a,stroke:#3b82f6,color:#e0e7ff
    style Widget fill:#0f172a,stroke:#10b981,color:#e0e7ff
```

### Data Flow

```mermaid
sequenceDiagram
    participant A as Agent (Claude)
    participant S as Agent Memory
    participant B as Agent (ChatGPT)

    A->>S: remember("db-choice", "PostgreSQL")
    Note over S: SQLite INSERT + FTS5 index
    S-->>A: Stored + widget updates

    B->>S: recall("database")
    Note over S: FTS5 MATCH + composite scoring
    S-->>B: "PostgreSQL" (ranked result)

    A->>S: handoff(summary, context_keys)
    Note over S: Store handoff + link memories
    B->>S: pickup(handoff_id)
    Note over S: Load context + full briefing
    S-->>B: Complete project context
```

<br />

## API Reference

### Tools

| Tool | Description |
|:-----|:------------|
| **`remember`** | Store a memory with key, value, type, tags, and context. Handles conflicts when agents update the same key. |
| **`recall`** | Full-text search with FTS5 + BM25 composite scoring. Returns ranked results by relevance, recency, and access patterns. |
| **`forget`** | Delete a memory by key with cascading cleanup of tags and history. |
| **`list-memories`** | Browse memories with pagination, type filtering, and tag filtering. |
| **`handoff`** | Create an agent-to-agent work transfer with summary, stuck reason, next steps, and context references. |
| **`pickup`** | Accept a pending handoff. Auto-loads context memories and relevant decisions for a full briefing. |
| **`complete-handoff`** | Mark a handoff as completed with a result summary. |

### Resources

| URI | Description |
|:-----|:------------|
| **`memory://current-context`** | Full project briefing: decisions, preferences, recent tasks, stats, pending handoffs. *This is what saves tokens.* |
| **`memory://agent-activity`** | Agent action feed — who did what and when across all agents. |
| **`memory://{key}`** | Look up a specific memory by key. |
| **`memory://handoff-queue`** | All pending, in-progress, and recently completed handoffs. |
| **`memory://changelog`** | Memory modification history with old vs. new values and agent attribution. |

### Prompt

| Name | Description |
|:-----|:------------|
| **`session-briefing`** | Full agent onboarding. Optional `focus` parameter to filter context to a specific topic. |

<br />

## How It Works

### Composite Scoring

When you `recall`, Agent Memory ranks results using four signals:

```
Score = (0.6 × BM25) + (0.2 × Recency) + (0.1 × Access) + (0.1 × Type)
```

| Signal | Weight | Why |
|:-------|:------:|:----|
| **BM25 Relevance** | 60% | Most relevant results first |
| **Recency** | 20% | Recent memories surface higher |
| **Access Count** | 10% | Frequently used = important |
| **Type Priority** | 10% | `decision` > `preference` > `task` > `snippet` > `note` |

### Database Schema

SQLite in WAL mode with FTS5 for full-text search:

```mermaid
erDiagram
    memories ||--o{ tags : has
    memories ||--o{ memory_history : tracks
    memories }o--|| memories_fts : indexes
    activity_log }o--|| memories : references

    memories {
        int id PK
        text key UK
        text value
        text type
        text context
        text agent_id
        int access_count
        datetime created_at
        datetime updated_at
    }

    tags {
        int id PK
        int memory_id FK
        text tag
    }

    handoffs {
        int id PK
        text from_agent
        text to_agent
        text status
        text summary
        text next_steps
    }

    activity_log {
        int id PK
        text agent_id
        text action
        text target_key
        datetime created_at
    }
```

> [!TIP]
> The `memory://current-context` resource automatically surfaces your decisions and preferences at the start of every conversation — so the agent already has your context without you spending tokens re-explaining it.

<br />

## Token Savings

| Scale | Daily Waste | With Agent Memory |
|:------|:------------|:------------------|
| **1 user** | 10K-20K tokens | Eliminated |
| **1,000 users** | 10M-20M tokens | ~60% reduction |
| **1M users** | 10B-20B tokens | Billions saved |

Every token saved is a GPU cycle that doesn't fire. At scale, Agent Memory is infrastructure for sustainable AI.

<br />

## Tech Stack

| Layer | Technology |
|:------|:-----------|
| **Language** | TypeScript 5.9 |
| **Framework** | [Manufact SDK](https://manufact.com) (mcp-use) |
| **Database** | SQLite via `better-sqlite3` (WAL mode) |
| **Search** | FTS5 with BM25 + Porter stemming |
| **Validation** | Zod 4 |
| **UI** | React 19 + Tailwind CSS v4 |
| **Build** | Vite 7 |
| **Server** | Express 5 |
| **Deployment** | Manufact MCP Cloud (Fly.io) |

<br />

<details>
<summary><strong>Project Structure</strong></summary>

<br />

```
agent-memory/
├── index.ts                          # MCP server — 7 tools, 5 resources, 1 prompt
├── src/
│   ├── db/
│   │   ├── schema.ts                 # SQLite schema + FTS5 setup
│   │   ├── queries.ts                # Database operations
│   │   └── seed.ts                   # Demo data
│   └── tools/
│       └── helpers.ts                # Agent names + formatting
├── resources/
│   └── memory-dashboard/
│       ├── widget.tsx                # Interactive dashboard (1,400+ lines)
│       ├── types.ts                  # TypeScript interfaces
│       ├── utils.ts                  # Agent colors, helpers
│       └── components/
│           ├── MemoryCard.tsx         # Memory display
│           ├── SearchBar.tsx          # FTS5 search input
│           ├── TypeFilter.tsx         # Type selector
│           ├── StatsBar.tsx           # Statistics
│           ├── ActivityFeed.tsx       # Agent timeline
│           ├── HandoffCard.tsx        # Handoff display
│           └── QuickAddForm.tsx       # Quick memory creation
├── public/                            # Static assets
├── data/                              # SQLite database (runtime)
└── dist/                              # Compiled output + widget manifest
```

</details>

<details>
<summary><strong>Deploy</strong></summary>

<br />

```bash
npm run build
npm run deploy
```

Deployed at `https://winter-meadow-1651f.run.mcp-use.com/mcp` — accessible from any MCP client worldwide.

</details>

<br />

---

<div align="center">

**Built for the [MCP Apps Hackathon 2026](https://events.ycombinator.com/manufact-hackathon26) at Y Combinator**

Powered by [Manufact](https://manufact.com)

<br />

[![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)](https://typescriptlang.org)
[![React](https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=react&logoColor=black)](https://react.dev)
[![SQLite](https://img.shields.io/badge/SQLite-003B57?style=flat-square&logo=sqlite&logoColor=white)](https://sqlite.org)
[![Tailwind](https://img.shields.io/badge/Tailwind-06B6D4?style=flat-square&logo=tailwindcss&logoColor=white)](https://tailwindcss.com)
[![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat-square&logo=nodedotjs&logoColor=white)](https://nodejs.org)
[![Vite](https://img.shields.io/badge/Vite-646CFF?style=flat-square&logo=vite&logoColor=white)](https://vite.dev)

</div>
